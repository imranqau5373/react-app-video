(window["webpackJsonpsample-app"]=window["webpackJsonpsample-app"]||[]).push([[0],{104:function(e,a,t){e.exports=t.p+"static/media/logo.5cac23da.svg"},107:function(e,a,t){e.exports=t(232)},230:function(e,a,t){},231:function(e,a,t){},232:function(e,a,t){"use strict";t.r(a);var n,l=t(3),s=t.n(l),c=t(98),i=t.n(c),o=t(99),r=t(100),d=t(105),u=t(101),m=t(15),b=t(106),h=t(102),p=t.n(h),C=t(13),v=t.n(C),g=t(103),N=t.n(g),E=(t(229),t(104)),f=t.n(E),S=t(34),k=(t(230),{credentials:{apiKey:S.apiKey,sessionId:S.sessionId,token:S.token},streamContainers:function(e,a,t,n){return{publisher:{camera:"#cameraPublisherContainer",screen:"#screenPublisherContainer"},subscriber:{camera:"#cameraSubscriberContainer",screen:"#screenSubscriberContainer"}}[e][a]},controlsContainer:"#controls",packages:["textChat","screenSharing","annotation"],communication:{callProperties:null},textChat:{name:["David","Paul","Emma","George","Amanda"][5*Math.random()|0],waitingMessage:"Messages will be delivered when other users arrive",container:"#chat"},screenSharing:{extensionID:"plocfffmbcclpdifaikiikgplfnepkpo",annotation:!0,externalWindow:!1,dev:!0,screenProperties:{insertMode:"append",width:"100%",height:"100%",showControls:!1,style:{buttonDisplayMode:"off"},videoSource:"window",fitMode:"contain"}},annotation:{absoluteParent:{publisher:".App-video-container",subscriber:".App-video-container"}}}),A=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(d.a)(this,Object(u.a)(a).call(this,e))).state={connected:!1,active:!1,publishers:null,subscribers:null,meta:null,localAudioEnabled:!0,localVideoEnabled:!0},t.startCall=t.startCall.bind(Object(m.a)(t)),t.endCall=t.endCall.bind(Object(m.a)(t)),t.toggleLocalAudio=t.toggleLocalAudio.bind(Object(m.a)(t)),t.toggleLocalVideo=t.toggleLocalVideo.bind(Object(m.a)(t)),t}return Object(b.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;(n=new N.a(k)).connect().then(function(){return e.setState({connected:!0})});["subscribeToCamera","unsubscribeFromCamera","subscribeToScreen","unsubscribeFromScreen","startScreenShare","endScreenShare"].forEach(function(a){return n.on(a,function(a){var t=a.publishers,n=a.subscribers,l=a.meta;e.setState({publishers:t,subscribers:n,meta:l})})})}},{key:"startCall",value:function(){var e=this;n.startCall().then(function(a){var t=a.publishers,n=a.subscribers,l=a.meta;e.setState({publishers:t,subscribers:n,meta:l,active:!0})}).catch(function(e){return console.log(e)})}},{key:"endCall",value:function(){n.endCall(),this.setState({active:!1})}},{key:"toggleLocalAudio",value:function(){n.toggleLocalAudio(!this.state.localAudioEnabled),this.setState({localAudioEnabled:!this.state.localAudioEnabled})}},{key:"toggleLocalVideo",value:function(){n.toggleLocalVideo(!this.state.localVideoEnabled),this.setState({localVideoEnabled:!this.state.localVideoEnabled})}},{key:"render",value:function(){var e,a=this.state,t=a.connected,n=a.active,l=function(e){var a=e.active,t=e.meta,n=e.localAudioEnabled,l=e.localVideoEnabled,s=!!t&&!!t.publisher.screen,c=!!t&&t.subscriber.screen,i=t?t.subscriber.camera:0,o=i>2,r=i%2,d=c||s;return{controlClass:v()("App-control-container",{hidden:!a}),localAudioClass:v()("ots-video-control circle audio",{hidden:!a,muted:!n}),localVideoClass:v()("ots-video-control circle video",{hidden:!a,muted:!l}),localCallClass:v()("ots-video-control circle end-call",{hidden:!a}),cameraPublisherClass:v()("video-container",{hidden:!a,small:!!i||d,left:d}),screenPublisherClass:v()("video-container",{hidden:!a||!s}),cameraSubscriberClass:v()("video-container",{hidden:!a||!i},{"active-gt2":o&&!d},{"active-odd":r&&!d},{small:d}),screenSubscriberClass:v()("video-container",{hidden:!c||!a})}}(this.state),c=l.localAudioClass,i=l.localVideoClass,o=l.localCallClass,r=l.controlClass,d=l.cameraPublisherClass,u=l.screenPublisherClass,m=l.cameraSubscriberClass,b=l.screenSubscriberClass;return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"App-header"},s.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),s.a.createElement("h1",null,"OpenTok Accelerator Core")),s.a.createElement("div",{className:"App-main"},s.a.createElement("div",{className:"App-video-container"},!t&&s.a.createElement("div",{className:"App-mask"},s.a.createElement(p.a,null),s.a.createElement("div",{className:"message with-spinner"},"Connecting")),t&&!n&&(e=this.startCall,s.a.createElement("div",{className:"App-mask"},s.a.createElement("button",{className:"message button clickable",onClick:e},"Click to Start Call "))),s.a.createElement("div",{id:"cameraPublisherContainer",className:d}),s.a.createElement("div",{id:"screenPublisherContainer",className:u}),s.a.createElement("div",{id:"cameraSubscriberContainer",className:m}),s.a.createElement("div",{id:"screenSubscriberContainer",className:b})),s.a.createElement("div",{id:"controls",className:r},s.a.createElement("div",{className:c,onClick:this.toggleLocalAudio}),s.a.createElement("div",{className:i,onClick:this.toggleLocalVideo}),s.a.createElement("div",{className:o,onClick:this.endCall})),s.a.createElement("div",{id:"chat",className:"App-chat-container"})))}}]),a}(l.Component);t(231);i.a.render(s.a.createElement(A,null),document.getElementById("root"))},34:function(e){e.exports=JSON.parse('{"apiKey":"46284232","sessionId":"2_MX40NjI4NDIzMn5-MTU2NjgyMDg1NTI0MX5uNlR1ckhTN1hCVU1NclFmaWtENjQwNWd-UH4","token":"T1==cGFydG5lcl9pZD00NjI4NDIzMiZzaWc9ZTVhZTA3OGRhNGQyYTc4Njk5MzAxNjk3M2I1MmY4MTRiOTk0YmU5YzpzZXNzaW9uX2lkPTJfTVg0ME5qSTROREl6TW41LU1UVTJOamd5TURnMU5USTBNWDV1TmxSMWNraFROMWhDVlUxTmNsRm1hV3RFTmpRd05XZC1VSDQmY3JlYXRlX3RpbWU9MTU2NjgyMDg2MCZub25jZT0xODE4MjQmcm9sZT1QVUJMSVNIRVI="}')}},[[107,1,2]]]);
//# sourceMappingURL=main.673ec075.chunk.js.map